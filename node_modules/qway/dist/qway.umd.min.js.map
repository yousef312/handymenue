{"version":3,"file":"qway.umd.min.js","sources":["../src/qway.js"],"sourcesContent":["const noop = () => { };\r\nconst keyMap = {\r\n    // Alphanumeric\r\n    \"a\": [\"KeyA\", \"KeyA\", \"a\"],\r\n    \"b\": [\"KeyB\", \"KeyB\", \"b\"],\r\n    \"c\": [\"KeyC\", \"KeyC\", \"c\"],\r\n    \"d\": [\"KeyD\", \"KeyD\", \"d\"],\r\n    \"e\": [\"KeyE\", \"KeyE\", \"e\"],\r\n    \"f\": [\"KeyF\", \"KeyF\", \"f\"],\r\n    \"g\": [\"KeyG\", \"KeyG\", \"g\"],\r\n    \"h\": [\"KeyH\", \"KeyH\", \"h\"],\r\n    \"i\": [\"KeyI\", \"KeyI\", \"i\"],\r\n    \"j\": [\"KeyJ\", \"KeyJ\", \"j\"],\r\n    \"k\": [\"KeyK\", \"KeyK\", \"k\"],\r\n    \"l\": [\"KeyL\", \"KeyL\", \"l\"],\r\n    \"m\": [\"KeyM\", \"KeyM\", \"m\"],\r\n    \"n\": [\"KeyN\", \"KeyN\", \"n\"],\r\n    \"o\": [\"KeyO\", \"KeyO\", \"o\"],\r\n    \"p\": [\"KeyP\", \"KeyP\", \"p\"],\r\n    \"q\": [\"KeyQ\", \"KeyQ\", \"q\"],\r\n    \"r\": [\"KeyR\", \"KeyR\", \"r\"],\r\n    \"s\": [\"KeyS\", \"KeyS\", \"s\"],\r\n    \"t\": [\"KeyT\", \"KeyT\", \"t\"],\r\n    \"u\": [\"KeyU\", \"KeyU\", \"u\"],\r\n    \"v\": [\"KeyV\", \"KeyV\", \"v\"],\r\n    \"w\": [\"KeyW\", \"KeyW\", \"w\"],\r\n    \"x\": [\"KeyX\", \"KeyX\", \"x\"],\r\n    \"y\": [\"KeyY\", \"KeyY\", \"y\"],\r\n    \"z\": [\"KeyZ\", \"KeyZ\", \"z\"],\r\n    \"0\": [\"Digit0\", \"Digit0\", \"0\"],\r\n    \"1\": [\"Digit1\", \"Digit1\", \"1\"],\r\n    \"2\": [\"Digit2\", \"Digit2\", \"2\"],\r\n    \"3\": [\"Digit3\", \"Digit3\", \"3\"],\r\n    \"4\": [\"Digit4\", \"Digit4\", \"4\"],\r\n    \"5\": [\"Digit5\", \"Digit5\", \"5\"],\r\n    \"6\": [\"Digit6\", \"Digit6\", \"6\"],\r\n    \"7\": [\"Digit7\", \"Digit7\", \"7\"],\r\n    \"8\": [\"Digit8\", \"Digit8\", \"8\"],\r\n    \"9\": [\"Digit9\", \"Digit9\", \"9\"],\r\n    // Symbols\r\n    \"-\": [\"Minus\", \"Minus\", \"-\"],\r\n    \"=\": [\"Equal\", \"Equal\", \"=\"],\r\n    \"[\": [\"BracketLeft\", \"BracketLeft\", \"[\"],\r\n    \"]\": [\"BracketRight\", \"BracketRight\", \"]\"],\r\n    \"\\\\\": [\"Backslash\", \"Backslash\", \"\\\\\"],\r\n    \";\": [\"Semicolon\", \"Semicolon\", \";\"],\r\n    \"'\": [\"Quote\", \"Quote\", \"'\"],\r\n    \"`\": [\"Backquote\", \"Backquote\", \"`\"],\r\n    \",\": [\"Comma\", \"Comma\", \",\"],\r\n    \".\": [\"Period\", \"Period\", \".\"],\r\n    \"/\": [\"Slash\", \"Slash\", \"/\"],\r\n    // Whitespace & editing\r\n    \"space\": [\"Space\", \"Space\", \"space\"],\r\n    \"enter\": [\"Enter\", \"Enter\", \"enter\"],\r\n    \"backspace\": [\"Backspace\", \"Backspace\", \"backspace\"],\r\n    \"tab\": [\"Tab\", \"Tab\", \"tab\"],\r\n    \"capslock\": [\"CapsLock\", \"CapsLock\", \"capslock\"],\r\n    \"escape\": [\"Escape\", \"Escape\", \"escape\"],\r\n    \"insert\": [\"Insert\", \"Insert\", \"insert\"],\r\n    \"delete\": [\"Delete\", \"Delete\", \"delete\"],\r\n    \"home\": [\"Home\", \"Home\", \"home\"],\r\n    \"end\": [\"End\", \"End\", \"end\"],\r\n    \"pageup\": [\"PageUp\", \"PageUp\", \"pageup\"],\r\n    \"pagedown\": [\"PageDown\", \"PageDown\", \"pagedown\"],\r\n    \"contextmenu\": [\"ContextMenu\", \"ContextMenu\", \"contextmenu\"],\r\n    // Arrows\r\n    \"arrowup\": [\"ArrowUp\", \"ArrowUp\", \"arrowup\"],\r\n    \"arrowdown\": [\"ArrowDown\", \"ArrowDown\", \"arrowdown\"],\r\n    \"arrowleft\": [\"ArrowLeft\", \"ArrowLeft\", \"arrowleft\"],\r\n    \"arrowright\": [\"ArrowRight\", \"ArrowRight\", \"arrowright\"],\r\n    // Modifiers\r\n    \"shift\": [\"Shift\", [\"ShiftLeft\", \"ShiftRight\"], \"shift\"],\r\n    \"control\": [\"Control\", [\"ControlLeft\", \"ControlRight\", \"MetaLeft\", \"MetaRight\"], \"ctrl\"],\r\n    \"ctrl\": [\"Control\", [\"ControlLeft\", \"ControlRight\", \"MetaLeft\", \"MetaRight\"], \"ctrl\"],\r\n    \"command\": [\"Control\", [\"ControlLeft\", \"ControlRight\", \"MetaLeft\", \"MetaRight\"], \"command\"],\r\n    \"alt\": [\"Alt\", [\"AltLeft\", \"AltRight\"], \"alt\"],\r\n    \"meta\": [\"Meta\", [\"MetaLeft\", \"MetaRight\"], \"meta\"],\r\n    // Function keys\r\n    \"f1\": [\"F1\", \"F1\", \"f1\"],\r\n    \"f2\": [\"F2\", \"F2\", \"f2\"],\r\n    \"f3\": [\"F3\", \"F3\", \"f3\"],\r\n    \"f4\": [\"F4\", \"F4\", \"f4\"],\r\n    \"f5\": [\"F5\", \"F5\", \"f5\"],\r\n    \"f6\": [\"F6\", \"F6\", \"f6\"],\r\n    \"f7\": [\"F7\", \"F7\", \"f7\"],\r\n    \"f8\": [\"F8\", \"F8\", \"f8\"],\r\n    \"f9\": [\"F9\", \"F9\", \"f9\"],\r\n    \"f10\": [\"F10\", \"F10\", \"f10\"],\r\n    \"f11\": [\"F11\", \"F11\", \"f11\"],\r\n    \"f12\": [\"F12\", \"F12\", \"f12\"],\r\n    // Numpad\r\n    \"numlock\": [\"NumLock\", \"NumLock\", \"numlock\"],\r\n    \"numpad0\": [\"Numpad0\", \"Numpad0\", \"numpad0\"],\r\n    \"numpad1\": [\"Numpad1\", \"Numpad1\", \"numpad1\"],\r\n    \"numpad2\": [\"Numpad2\", \"Numpad2\", \"numpad2\"],\r\n    \"numpad3\": [\"Numpad3\", \"Numpad3\", \"numpad3\"],\r\n    \"numpad4\": [\"Numpad4\", \"Numpad4\", \"numpad4\"],\r\n    \"numpad5\": [\"Numpad5\", \"Numpad5\", \"numpad5\"],\r\n    \"numpad6\": [\"Numpad6\", \"Numpad6\", \"numpad6\"],\r\n    \"numpad7\": [\"Numpad7\", \"Numpad7\", \"numpad7\"],\r\n    \"numpad8\": [\"Numpad8\", \"Numpad8\", \"numpad8\"],\r\n    \"numpad9\": [\"Numpad9\", \"Numpad9\", \"numpad9\"],\r\n    \"numpaddecimal\": [\"NumpadDecimal\", \"NumpadDecimal\", \"numpaddecimal\"],\r\n    \"numpaddivide\": [\"NumpadDivide\", \"NumpadDivide\", \"numpaddivide\"],\r\n    \"numpadmultiply\": [\"NumpadMultiply\", \"NumpadMultiply\", \"numpadmultiply\"],\r\n    \"numpadsubtract\": [\"NumpadSubtract\", \"NumpadSubtract\", \"numpadsubtract\"],\r\n    \"numpadadd\": [\"NumpadAdd\", \"NumpadAdd\", \"numpadadd\"],\r\n    \"numpadenter\": [\"NumpadEnter\", \"NumpadEnter\", \"numpadenter\"],\r\n    // Media / browser\r\n    \"printscreen\": [\"PrintScreen\", \"PrintScreen\", \"printscreen\"],\r\n    \"scrolllock\": [\"ScrollLock\", \"ScrollLock\", \"scrolllock\"],\r\n    \"pause\": [\"Pause\", \"Pause\", \"pause\"],\r\n    \"browserback\": [\"BrowserBack\", \"BrowserBack\", \"browserback\"],\r\n    \"browserforward\": [\"BrowserForward\", \"BrowserForward\", \"browserforward\"],\r\n    \"browserrefresh\": [\"BrowserRefresh\", \"BrowserRefresh\", \"browserrefresh\"],\r\n    \"browserstop\": [\"BrowserStop\", \"BrowserStop\", \"browserstop\"],\r\n    \"browsersearch\": [\"BrowserSearch\", \"BrowserSearch\", \"browsersearch\"],\r\n    \"browserfavorites\": [\"BrowserFavorites\", \"BrowserFavorites\", \"browserfavorites\"],\r\n    \"browserhome\": [\"BrowserHome\", \"BrowserHome\", \"browserhome\"],\r\n    \"volumemute\": [\"VolumeMute\", \"VolumeMute\", \"volumemute\"],\r\n    \"volumedown\": [\"VolumeDown\", \"VolumeDown\", \"volumedown\"],\r\n    \"volumeup\": [\"VolumeUp\", \"VolumeUp\", \"volumeup\"],\r\n    \"mediatracknext\": [\"MediaTrackNext\", \"MediaTrackNext\", \"mediatracknext\"],\r\n    \"mediatrackprevious\": [\"MediaTrackPrevious\", \"MediaTrackPrevious\", \"mediatrackprevious\"],\r\n    \"mediaplaypause\": [\"MediaPlayPause\", \"MediaPlayPause\", \"mediaplaypause\"],\r\n    \"launchmail\": [\"LaunchMail\", \"LaunchMail\", \"launchmail\"],\r\n    \"launchapp1\": [\"LaunchApp1\", \"LaunchApp1\", \"launchapp1\"],\r\n    \"launchapp2\": [\"LaunchApp2\", \"LaunchApp2\", \"launchapp2\"],\r\n    \"eject\": [\"Eject\", \"Eject\", \"eject\"],\r\n    // International / misc\r\n    \"intlbackslash\": [\"IntlBackslash\", \"IntlBackslash\", \"intlbackslash\"],\r\n    \"intlro\": [\"IntlRo\", \"IntlRo\", \"intlro\"],\r\n    \"intlyen\": [\"IntlYen\", \"IntlYen\", \"intlyen\"],\r\n    \"intlhash\": [\"IntlHash\", \"IntlHash\", \"intlhash\"],\r\n    \"conversion\": [\"Conversion\", \"Conversion\", \"conversion\"],\r\n    \"nonconversion\": [\"NonConversion\", \"NonConversion\", \"nonconversion\"],\r\n    \"again\": [\"Again\", \"Again\", \"again\"],\r\n    \"copy\": [\"Copy\", \"Copy\", \"copy\"],\r\n    \"cut\": [\"Cut\", \"Cut\", \"cut\"],\r\n    \"paste\": [\"Paste\", \"Paste\", \"paste\"],\r\n    \"find\": [\"Find\", \"Find\", \"find\"],\r\n    \"props\": [\"Props\", \"Props\", \"props\"],\r\n    \"select\": [\"Select\", \"Select\", \"select\"],\r\n    \"undo\": [\"Undo\", \"Undo\", \"undo\"],\r\n    \"redo\": [\"Redo\", \"Redo\", \"redo\"],\r\n    \"help\": [\"Help\", \"Help\", \"help\"],\r\n    \"stop\": [\"Stop\", \"Stop\", \"stop\"],\r\n    \"sleep\": [\"Sleep\", \"Sleep\", \"sleep\"],\r\n    \"wakeup\": [\"WakeUp\", \"WakeUp\", \"wakeup\"],\r\n    \"hiragana\": [\"Hiragana\", \"Hiragana\", \"hiragana\"],\r\n    \"katakana\": [\"Katakana\", \"Katakana\", \"katakana\"],\r\n    \"accept\": [\"Accept\", \"Accept\", \"accept\"],\r\n    \"modechange\": [\"ModeChange\", \"ModeChange\", \"modechange\"]\r\n};\r\n\r\n\r\nconst isMacOS = navigator.userAgentData?.platform === 'macOS' ||\r\n    navigator.platform?.toUpperCase().includes('MAC');\r\nconst isModifier = (key) => [\"ctrl\", \"control\", \"command\", \"shift\", \"alt\", \"meta\"].includes(key);\r\nconst isNavSysKey = (key) => [\"tab\", \"enter\", \"backspace\", \"escape\", \"delete\", \"insert\", \"capslock\", \"printscreen\", \"pause\"].includes(key);\r\nconst isElectron = () => typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron;\r\nconst isSensitiveKey = (key) => !isElectron() && [\"f1\", \"f5\", \"f11\", \"f12\"].includes(key);\r\nconst translateKey = (key) => keyMap.hasOwnProperty(key) ? keyMap[key][1] : null;\r\nconst translateCombo = (key) => /^[a-z0-9]$/i.test(key) || [\"arrowleft\", \"arrowright\", \"arrowup\", \"arrowdown\", \"*\"].includes(key) ? (key).toLowerCase() : null;\r\nconst mergeUnique = (arr) => [...new Set(arr)];\r\n\r\n/**\r\n * Utility that help me identify the type of bindings\r\n * @type {Array<{is: (str: string) => boolean, validate: (str: string) => boolean, parse: (str: string) => Array, name: string }>}\r\n */\r\nconst types = [\r\n    {\r\n        // malformed\r\n        test: (str) => str.includes(' ') || (str.includes('+') && str.includes(',')),\r\n        name: \"bad\"\r\n    },\r\n    {\r\n        is: (str) => str.includes('+'),\r\n        validate: (str) => {\r\n            let lst = str.toLowerCase().split('+');\r\n            if (lst.find(a => !keyMap.hasOwnProperty(a))) return \"unknown-keys\";\r\n            if (lst.find(a => isNavSysKey(a))) return \"using-system-keys\";\r\n            let nkf = false;\r\n            lst.forEach((a, i) => {\r\n                if (isModifier(a)) {\r\n                    if (nkf == true) return;\r\n                } else nkf = true;\r\n            })\r\n            if (nkf) return \"modifiers-misplacement\";\r\n            if (lst.find(a => isSensitiveKey(a))) return \"sensitive-keys\";\r\n\r\n            return true;\r\n        },\r\n        parse: (str) => str.split('+'),\r\n        name: \"shortcut\"\r\n    },\r\n    {\r\n        is: (str) => str.includes(','),\r\n        validate: () => true, // no validation here\r\n        parse: (str) => str.split(','),\r\n        name: \"combo\"\r\n    },\r\n    {\r\n        is: (str) => str.includes('=>'),\r\n        validate: (str) => {\r\n            let lst = str.toLowerCase().split('=>');\r\n            return true;\r\n        },\r\n        parse: (str) => str.split('=>'),\r\n        name: \"timed\"\r\n    },\r\n]\r\n\r\nclass BindingEvent extends CustomEvent {\r\n\r\n    constructor(type, payload = {}) {\r\n        if (![\"progress\", \"finish\"].includes(type)) throw new Error(`[QwayJS] Unknown event type \"${type}\"`);\r\n        super(type, {\r\n            detail: payload.detail || null,\r\n            bubbles: payload.bubbles ?? false,\r\n            cancelable: payload.cancelable ?? false,\r\n            composed: payload.composed ?? false\r\n        });\r\n\r\n        this.binding = payload?.binding ?? null;\r\n        this.qway = payload?.qway ?? null;\r\n    }\r\n}\r\n\r\nclass QBuildEvent extends CustomEvent {\r\n    constructor(type, payload = {}) {\r\n        if (![\"change\", \"finish\", \"abort\", \"approved\"].includes(type)) throw new Error(`[QwayJS] Unknown event type \"${type}\"`);\r\n        super(type, {\r\n            detail: payload.detail || null,\r\n            bubbles: payload.bubbles ?? false,\r\n            cancelable: payload.cancelable ?? false,\r\n            composed: payload.composed ?? false\r\n        });\r\n\r\n        this.builder = payload?.builder ?? null;\r\n        this.qway = payload?.qway;\r\n        this.progress = [payload?.current, payload?.len];\r\n\r\n    }\r\n}\r\n\r\n/**\r\n * Single binding/shortcut item with it's own functionalities\r\n */\r\nclass Binding {\r\n    /**\r\n     * Binding type\r\n     */\r\n    #type = \"\";\r\n\r\n    /**\r\n     * @param {QwayClass} qway \r\n     * @param {string} content \r\n     * @param {function} callback \r\n     * @param {{ delay: number, fragile: boolean, type: \"combo\" | \"shortcut\" | \"timed\" }} options \r\n     */\r\n    constructor(qway, content, callback, options) {\r\n        this.q = qway;\r\n        /**\r\n         * Raw binding content\r\n         * @type {String}\r\n         */\r\n        this.content = content;\r\n\r\n        /**\r\n         * Binding callback\r\n         * @type {Function}\r\n         */\r\n        this.callback = callback;\r\n\r\n        /**\r\n         * Different binding options\r\n         */\r\n        this.options = options || {};\r\n\r\n        /**\r\n         * Binding on going progress\r\n         * @type {Set}\r\n         */\r\n        this.progress = new Set();\r\n\r\n        this.#type = options.type;\r\n\r\n        this.events = {};\r\n\r\n        this.onprogress = noop;\r\n        this.onfinish = noop;\r\n\r\n        /**\r\n         * Keys sequence\r\n         * @type {Array<string>} \r\n         */\r\n        this.sequence = [];\r\n    }\r\n\r\n    /**\r\n     * Type of current binding\r\n     * @type {\"combo\" | \"shortcut\" | \"timed\"}\r\n     */\r\n    get type() {\r\n        return this.#type;\r\n    }\r\n\r\n    /**\r\n     * Length of the shortcut\r\n     * @type {number}\r\n     */\r\n    get length() {\r\n        return this.sequence && this.sequence.length ? this.sequence.length : 1;\r\n    }\r\n\r\n    /**\r\n     * Trigger certain event action\r\n     * @param {\"keyup\" | \"keydown\"} name \r\n     * @param {KeyboardEvent} ev \r\n     */\r\n    onEvent(name, ev) {\r\n        switch (name) {\r\n            case \"keyup\":\r\n                this.keyUp(ev);\r\n                break;\r\n            case \"keydown\":\r\n                let executed = this.keyDown(ev);\r\n                this.onprogress(this);\r\n                if (executed) this.onfinish(this);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reset/empty current progress of the binding\r\n     */\r\n    reset() {\r\n\r\n    }\r\n}\r\n\r\n/**\r\n * Shortcut bindings are a sequence of keys, once clicked at the same time with their\r\n * order execute a callback bound to them.\r\n */\r\nclass ShortcutBinding extends Binding {\r\n\r\n    /**\r\n     * List of progresses\r\n     * @type {Set}\r\n     */\r\n    #progress = new Set();\r\n\r\n    /**\r\n     * @param {QwayClass} qway \r\n     * @param {Array<string>} content \r\n     * @param {function} callback \r\n     * @param {*} options \r\n     */\r\n    constructor(qway, content, callback, options) {\r\n        // make sure correct format\r\n        const sequence = content.toLowerCase().split('+').map(translateKey);\r\n        if (sequence.includes(null)) throw new Error(`[QwayJS] Incorrect shortcut format \"${short}\"`);\r\n\r\n        // Initiate father class\r\n        options = options || {};\r\n        options.type = \"shortcut\";\r\n        super(qway, content, callback, options);\r\n        this.sequence = sequence;\r\n    }\r\n\r\n    keyUp(e) {\r\n        const code = e.code;\r\n        this.#progress.delete(code);\r\n    }\r\n\r\n    keyDown(e) {\r\n        const code = e.code,\r\n            _this = this;\r\n        this.#progress.add(code);\r\n\r\n        const pressed = Array.from(this.#progress);\r\n        const isMatch = _this.sequence.every((code, i) => Array.isArray(code) ? code.includes(pressed[i]) : pressed[i] === code);\r\n        if (isMatch) {\r\n            e.preventDefault();\r\n            _this.callback();\r\n            return true;\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        this.#progress.clear();\r\n    }\r\n}\r\n\r\n/**\r\n * Combo bindings differ from normal shortcuts in the manner of execution, unlike shortcuts \r\n * `Combo` are about order and timing, you must click the combo string within certain period \r\n * identified by the `delay` between clicks or (sequence construction).\r\n */\r\nclass ComboBinding extends Binding {\r\n\r\n    /**\r\n     * @param {QwayClass} qway \r\n     * @param {string} content \r\n     * @param {function} callback \r\n     * @param {*} options \r\n     */\r\n    constructor(qway, content, callback, options) {\r\n        content = content.toLowerCase();\r\n        // make sure correct format\r\n        const sequence = content.split(' ').map(translateCombo);\r\n        if (sequence.includes(null)) throw new Error(`[QwayJS] Incorrect combo string format \"${content}\"`);\r\n        // Initiate father class\r\n        options = options || { delay: 300 }\r\n        options.type = \"combo\";\r\n        super(qway, content, callback, options);\r\n        this.sequence = sequence;\r\n        this.timeout = null;\r\n        this.progress = []; // for combo keys, we just use a simple array\r\n    }\r\n\r\n    keyUp(e) {\r\n        // do nothing in here as combo are about time \r\n    }\r\n\r\n    keyDown(e) {\r\n        let _this = this;\r\n        this.progress.push(e.key.toLowerCase());\r\n        if (this.timeout) this.q.getTimeoutFunc().clearTimeout(this.timeout);\r\n\r\n        const isMatch = this.sequence.every((code, i) => code === \"*\" || (Array.isArray(code) ? code.includes(this.progress[i]) : this.progress[i] === code));\r\n\r\n        // COMBO are time based shortcuts\r\n        this.timeout = this.q.getTimeoutFunc().setTimeout(function () {\r\n            _this.progress = [];\r\n        }, this.options?.delay || 300);\r\n\r\n        if (isMatch) {\r\n            e.preventDefault();\r\n            this.callback();\r\n            return true;\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        if (this.timeout) this.q.getTimeoutFunc().clearTimeout(this.timeout);\r\n        this.progress = [];\r\n    }\r\n}\r\n\r\n/**\r\n * Timed keys are a single clicked key that executes it callback after\r\n * a pre-defined period\r\n */\r\nclass TimedKey extends Binding {\r\n\r\n    /**\r\n     * Used with timeouts calls\r\n     */\r\n    #timeout = null;\r\n\r\n    /**\r\n     * @param {QwayClass} qway \r\n     * @param {string} content \r\n     * @param {function} callback \r\n     * @param {*} options \r\n     */\r\n    constructor(qway, content, callback, options) {\r\n        content = content.toLowerCase();\r\n        // make sure correct format\r\n        const [rawKey, dur] = content.split('=>');\r\n        let key = translateKey(rawKey);\r\n        if (key === null) throw new Error(`[QwayJS] Incorrect timedkey \"${content}\"`);\r\n        // Initiate father class\r\n        options = options || { delay: 300 }\r\n        options.type = \"timed\";\r\n        super(qway, content, callback, options);\r\n\r\n        this.sequence = [key];\r\n        this.dur = parseFloat(dur || \"1000\");\r\n    }\r\n\r\n    keyUp(e) {\r\n        // do nothing in here as combo are about time \r\n        if (this.options?.fragile === true || this.sequence[0] === e.code) {\r\n            this.q.getTimeoutFunc().clearTimeout(this.timeout);\r\n            this.timeout = null;\r\n        }\r\n    }\r\n\r\n    keyDown(e) {\r\n        let _this = this;\r\n\r\n        if (this.sequence[0] === e.code && !this.timeout) {\r\n            this.progress.add(e.code);\r\n            e.preventDefault();\r\n\r\n            // COMBO are time based shortcuts\r\n            this.timeout = this.q.getTimeoutFunc().setTimeout(function () {\r\n                _this.callback();\r\n                _this.timeout = null;\r\n            }, this.dur);\r\n\r\n        } else if (this.options?.fragile === true) {\r\n            this.q.getTimeoutFunc().clearTimeout(this.timeout);\r\n            this.timeout = null;\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        if (this.timeout) this.q.getTimeoutFunc().clearTimeout(this.timeout);\r\n    }\r\n}\r\n\r\n/**\r\n * Qway interactive shortcut builder interface\r\n */\r\nclass QBuilder {\r\n    #progress = new Set();\r\n\r\n    /**\r\n     * @param {QwayClass} q \r\n     */\r\n    constructor(q) {\r\n        this.q = q;\r\n\r\n        this.on = false;\r\n        this.cb = null;\r\n        this.len = 0;\r\n    }\r\n\r\n    /**\r\n     * Start the interactive creation mode\r\n     * @param {number} len \r\n     * @param {function} cb \r\n     */\r\n    start(len, cb) {\r\n        if (typeof len != \"number\" || len === 0 || typeof cb != 'function')\r\n            throw new Error(`[QwayJS] TypeError: len must be number received \"${typeof len}\", cb must be function recieved \"${typeof cb}\"`)\r\n        this.#progress.clear();\r\n        this.on = true;\r\n        this.cb = cb;\r\n        this.len = len;\r\n    }\r\n\r\n    /**\r\n     * Stop the interactive creation mode\r\n     */\r\n    end() {\r\n        this.#progress.clear();\r\n        this.on = false;\r\n    }\r\n\r\n    /**\r\n     * Receive a keyclick from the user\r\n     * @param {string} evName \r\n     * @param {KeyboardEvent} ev \r\n     */\r\n    receive(evName, ev) {\r\n        if (evName == \"keydown\" && this.#progress.size >= this.len) return;\r\n\r\n        switch (evName) {\r\n            case \"keydown\":\r\n                this.#progress.add(ev.code);\r\n                break;\r\n            case \"keyup\":\r\n                this.#progress.delete(ev.code);\r\n                break;\r\n        }\r\n\r\n        this.q.trigger('builder-change', this, new QBuildEvent('change', { builder: this, current: this.#progress.size, len: this.len, qway: this.q }));\r\n        if (this.#progress.size == this.len)\r\n            this.q.trigger('builder-finish', this, new QBuildEvent('finish', { builder: this, current: this.#progress.size, len: this.len, qway: this.q }));\r\n    }\r\n\r\n    /**\r\n     * Approve the current shortcut\r\n     */\r\n    approve() {\r\n        this.q.bind(this.getString('+'), this.cb);\r\n        this.q.trigger('builder-approved', this, new QBuildEvent('approved', { builder: this, qway: this.q }));\r\n        this.end();\r\n    }\r\n\r\n    /**\r\n     * Abort the current shortcut\r\n     */\r\n    abort() {\r\n        if (this.on) {\r\n            this.q.trigger('builder-abort', this, new QBuildEvent('abort', { builder: this, qway: this.q }));\r\n            this.end();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get shortcut string representation\r\n     * @param {string?} joinment optionally separate the shortcut\r\n     * @returns {string|Array}\r\n     */\r\n    getString(joinment) {\r\n        let final = [];\r\n        let fs = Object.values(keyMap);\r\n        Array.from(this.#progress).forEach(kcode => {\r\n            final.push(fs.find(a => Array.isArray(a[1]) ? a[1].includes(kcode) : a[1] === kcode)[2]);\r\n        })\r\n        return typeof joinment == \"string\" ? final.join(joinment) : final;\r\n    }\r\n}\r\n\r\n/**\r\n * Shortcuts are essential time savers to speed-up your app workflow!\r\n * \r\n * Our little library offers a plenty of shortcut types facilitating your access \r\n * to them with a crunchy ;) interface.\r\n * \r\n */\r\nclass QwayClass {\r\n    /**\r\n     * List of bindings\r\n     * @type {Array<Binding>}\r\n     */\r\n    #bindings = [];\r\n\r\n    /**\r\n     * Key actions map \r\n     * @type {Array<{ key: string, code: string, on: boolean}>}\r\n     */\r\n    #keys = {};\r\n\r\n    #events = {};\r\n\r\n    /**\r\n     * Flag determine whether or not bindings activated or not\r\n     * @type {boolean}\r\n     */\r\n    #activated = true;\r\n\r\n    /**\r\n     * Flag determine whether shortcut bindings are activated or not\r\n     * @type {boolean}\r\n     */\r\n    #shortcutActivated = true;\r\n\r\n    /**\r\n     * Flag determine whether combo bindings are activated or not\r\n     * @type {boolean}\r\n     */\r\n    #comboActivated = true;\r\n\r\n    /**\r\n     * Flag determine whether timed bindings are activated or not\r\n     * @type {boolean}\r\n     */\r\n    #timedActivated = true;\r\n\r\n    /**\r\n     * Holds the old activation state\r\n     * @type {boolean}\r\n     */\r\n    #oldActivationState = true;\r\n\r\n    /**\r\n     * Timeout functions, set and clear used in timed and combo bindings\r\n     * you can define your custom timeout calls using `defineTimeoutFunc`\r\n     */\r\n    #timeout_calls = [setTimeout.bind(window), clearTimeout.bind(window)];\r\n\r\n    constructor() {\r\n\r\n        this.builder = new QBuilder(this);\r\n\r\n        this.#bindEvents();\r\n    }\r\n\r\n    #bindEvents() {\r\n        let _this = this;\r\n        window.addEventListener('keydown', function (e) {\r\n            if (_this.builder.on)\r\n                _this.builder.receive('keydown', e);\r\n            if (!_this.#activated || [\"INPUT\", \"TEXTAREA\"].includes(this.document.activeElement.tagName)) return;\r\n            _this.#bindings.forEach(bnd => {\r\n                if(\r\n                    (bnd.type == \"combo\" && _this.#comboActivated) ||\r\n                    (bnd.type == \"shortcut\" && _this.#shortcutActivated) ||\r\n                    (bnd.type == \"timed\" && _this.#timedActivated)\r\n                ) bnd.onEvent(\"keydown\", e);\r\n            })\r\n            _this.#keys[e.code] = true;\r\n        })\r\n\r\n        window.addEventListener('keyup', function (e) {\r\n            if (_this.builder.on)\r\n                _this.builder.receive('keyup', e);\r\n            if (!_this.#activated || [\"INPUT\", \"TEXTAREA\"].includes(this.document.activeElement.tagName)) return;\r\n            _this.#bindings.forEach(bnd => {\r\n                bnd.onEvent(\"keyup\", e);\r\n            })\r\n            _this.#keys[e.code] = false;\r\n        })\r\n\r\n        window.addEventListener('blur', function () {\r\n            _this.#bindings.forEach(bnd => {\r\n                bnd.reset();\r\n            })\r\n            _this.declineFromUser();\r\n        })\r\n    }\r\n\r\n    /**\r\n    * Bind new shortcut \r\n    * @param {string} shortcut \r\n    * @param {function} callback \r\n    */\r\n    bind(shortcut, callback) {\r\n        let _this = this;\r\n\r\n        if (this.reserved(shortcut)) return false;\r\n\r\n        let bnds = [];\r\n        if (keyMap.hasOwnProperty(shortcut) || shortcut.includes('+') || (Array.isArray(shortcut)))\r\n            (Array.isArray(shortcut) ? shortcut : [shortcut]).forEach(short => {\r\n                bnds.push(new ShortcutBinding(this, short, callback));\r\n            })\r\n        else if (shortcut.includes(' '))\r\n            bnds.push(new ComboBinding(this, shortcut, callback));\r\n        else if (shortcut.includes('=>'))\r\n            bnds.push(new TimedKey(this, shortcut, callback));\r\n\r\n        if (bnds.includes(null)) throw new Error(`[QwayJS] Could not bind the new shortcut!`);\r\n\r\n        bnds.forEach(bnd => {\r\n\r\n            // attaching system events\r\n            bnd.onprogress = function (binding) {\r\n                _this.trigger('progress', binding, new BindingEvent('progress', { binding, qway: _this }));\r\n            }\r\n\r\n            bnd.onfinish = function (binding) {\r\n                _this.trigger('finish', binding, new BindingEvent('finish', { binding, qway: _this }));\r\n            }\r\n\r\n            _this.#bindings.push(bnd);\r\n        })\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Remove a shortcut\r\n     * @param {string} shortcut \r\n     * @param {function} callback \r\n     * @returns {boolean}\r\n     */\r\n    unbind(shortcut, callback) {\r\n        let i = this.#bindings.findIndex(a => a.content == shortcut && a.callback === callback);\r\n        if (i != -1) {\r\n            this.#bindings.splice(i, 1);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Replace the callback's shortcut\r\n     * @param {function} callback \r\n     * @param {string} shortcut \r\n     */\r\n    replace(callback, shortcut) {\r\n        let bnd = this.#bindings.find(a => a.callback === callback);\r\n        if (bnd) {\r\n            this.unbind(bnd.content, bnd.callback);\r\n            this.bind(shortcut, callback);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Attach an event listener\r\n     * @param {\"progress\" | \"finish\" | \"builder-change\" | \"builder-abort\" | \"builder-approved\"} ev \r\n     * @param {function} cb\r\n     * @returns {QwayClass} \r\n     */\r\n    on(ev, cb) {\r\n        if (typeof cb !== \"function\") throw new Error(`[QwayJS] .on accepts a function as callback a \"${typeof cb}\" is passed!`);\r\n        if (!this.#events[ev]) this.#events[ev] = [];\r\n        this.#events[ev].push(cb);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Remove an attached event listener\r\n     * @param {\"progress\" | \"finish\"} ev \r\n     * @param {function} cb \r\n     * @returns {boolean} \r\n     */\r\n    off(ev, cb) {\r\n        if (typeof cb !== \"function\") throw new Error(`[QwayJS] .on accepts a function as callback a \"${typeof cb}\" is passed!`);\r\n        if (!this.#events[ev]) return;\r\n\r\n        let i = this.#events[ev].findIndex(a => a === cb);\r\n        if (i != -1) {\r\n            this.#events.splice(i, 1);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Trigger an event\r\n     * @param {\"progress\" | \"finish\"} ev \r\n     * @param {*} ctx \r\n     * @param  {...any} args \r\n     */\r\n    trigger(ev, ctx, ...args) {\r\n        if (this.#events[ev])\r\n            this.#events[ev].forEach(cb => cb.call(ctx, ...args));\r\n    }\r\n\r\n    /**\r\n     * Check whether a key is currently pressed or not\r\n     * @param {string} key \r\n     * @returns {boolean}\r\n     */\r\n    isKeyPressed(key) {\r\n        key = key === \" \" ? \"space\" : key.toLowerCase();\r\n        if (keyMap[key]) {\r\n            return this.#keys[keyMap[key][1]] || false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Interactively creates a new shortcut entered by the user, the callback already\r\n     * do have a shortcut, it will be replaced by the new one unless you \r\n     * @param {number} len the length of the shortcut \r\n     * @param {function} cb the callback to be attached\r\n     */\r\n    getFromUser(len, cb) {\r\n        this.#oldActivationState = this.#activated;\r\n        this.#activated = false;\r\n        this.builder.start(len, cb);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Approve user created shortcut from interactive mode\r\n     * @param {boolean} replaceInCase\r\n     */\r\n    approveFromUser(replaceInCase) {\r\n        if (replaceInCase === true) {\r\n            let fn = this.attached(this.builder.cb)\r\n            if (fn) {\r\n                this.unbind(this.#bindings[fn].content, this.#bindings[fn].callback);\r\n            }\r\n        }\r\n        this.builder.approve();\r\n        this.#activated = this.#oldActivationState;\r\n    }\r\n\r\n    /**\r\n     * Decline user created shortcut from interactive mode\r\n     */\r\n    declineFromUser() {\r\n        this.builder.abort();\r\n        this.#activated = this.#oldActivationState;\r\n    }\r\n\r\n    /**\r\n     * Activate the Qway bindings, \r\n     * @param {\"combo\" | \"shortcut\" | \"timed\"} [type] optionally effect only certain type of shortcuts\r\n     */\r\n    activate(type) {\r\n        switch (type) {\r\n            case \"combo\":\r\n                this.#comboActivated = true;\r\n                break;\r\n            case \"shortcut\":\r\n                this.#shortcutActivated = true;\r\n                break;\r\n            case \"timed\":\r\n                this.#timedActivated = true;\r\n                break;\r\n            default:\r\n                this.#activated = true;\r\n        }\r\n        this.#oldActivationState = true;\r\n    }\r\n\r\n    /**\r\n     * Disactivate the Qwaay shortcuts\r\n     * @param {\"combo\" | \"shortcut\" | \"timed\"} [type] optionally effect only certain type of shortcuts\r\n     */\r\n    disactivate(type) {\r\n        switch (type) {\r\n            case \"combo\":\r\n                this.#comboActivated = false;\r\n                break;\r\n            case \"shortcut\":\r\n                this.#shortcutActivated = false;\r\n                break;\r\n            case \"timed\":\r\n                this.#timedActivated = false;\r\n                break;\r\n            default:\r\n                this.#activated = false;\r\n                break;\r\n        }\r\n\r\n        this.#oldActivationState = false;\r\n\r\n        this.#bindings.forEach(bnd => {\r\n            if (!type || bnd.type === type) bnd.reset(); //only reset targeted \r\n        });\r\n    }\r\n\r\n    /**\r\n     * Check whether a shortcut is reserved or not\r\n     * @param {string} shortcut \r\n     * @returns {boolean}\r\n     */\r\n    reserved(shortcut) {\r\n        return this.#bindings.findIndex(a => a.content === shortcut) != -1;\r\n    }\r\n\r\n    /**\r\n     * Returns whether or not this function is attached to a shortcut or not\r\n     * @param {function} callback \r\n     * @returns {boolean}\r\n     */\r\n    attached(callback) {\r\n        return this.#bindings.findIndex(a => a.callback === callback) != -1;\r\n    }\r\n\r\n    /**\r\n     * Get a shortcut with it's callback if found\r\n     * @param {string} shortcut \r\n     * @param {function} callback \r\n     * @returns\r\n     */\r\n    find(shortcut, callback) {\r\n        let _this = this;\r\n        let index = this.#bindings.findIndex(a => a.content === shortcut && a.callback === callback);\r\n\r\n        return {\r\n            index,\r\n            get: () => index != -1 ? JSON.parse(JSON.stringify(_this.#bindings[index])) : null,\r\n            unbind: () => index != -1 ? _this.unbind(shortcut, callback) : null\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Define your own timeout function, this is most useful when using your custom runtime environment\r\n     * like in a game engine, a rendering engine.. \r\n     * @param {(handler: Function, timeout: number)=>} mySetTimeout \r\n     * @param {(timeoutId: number)=>void} myClearTimeout \r\n     */\r\n    defineTimeoutFunc(mySetTimeout, myClearTimeout) {\r\n\r\n        if (typeof mySetTimeout != \"function\" || typeof myClearTimeout != \"function\")\r\n            throw new Error(`[QwayJS] both function arguments are required when defining your custom timeout system!`);\r\n\r\n        this.#timeout_calls[0] = mySetTimeout;\r\n        this.#timeout_calls[1] = myClearTimeout;\r\n    }\r\n\r\n    /**\r\n     * Returns the used timeout functions\r\n     * @returns {{ setTimeout: (handler: function, timeout: number) => number, clearTimeout: (timerId: number) => void}}\r\n     */\r\n    getTimeoutFunc() {\r\n        return { setTimeout: this.#timeout_calls[0], clearTimeout: this.#timeout_calls[1] };\r\n    }\r\n}\r\n\r\nlet qway = new QwayClass();\r\n\r\nexport default qway;\r\n"],"names":["noop","keyMap","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","space","enter","backspace","tab","capslock","escape","insert","delete","home","end","pageup","pagedown","contextmenu","arrowup","arrowdown","arrowleft","arrowright","shift","control","ctrl","command","alt","meta","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","numlock","numpad0","numpad1","numpad2","numpad3","numpad4","numpad5","numpad6","numpad7","numpad8","numpad9","numpaddecimal","numpaddivide","numpadmultiply","numpadsubtract","numpadadd","numpadenter","printscreen","scrolllock","pause","browserback","browserforward","browserrefresh","browserstop","browsersearch","browserfavorites","browserhome","volumemute","volumedown","volumeup","mediatracknext","mediatrackprevious","mediaplaypause","launchmail","launchapp1","launchapp2","eject","intlbackslash","intlro","intlyen","intlhash","conversion","nonconversion","again","copy","cut","paste","find","props","select","undo","redo","help","stop","sleep","wakeup","hiragana","katakana","accept","modechange","navigator","userAgentData","platform","toUpperCase","includes","translateKey","key","hasOwnProperty","translateCombo","test","toLowerCase","BindingEvent","CustomEvent","constructor","type","payload","Error","super","detail","bubbles","cancelable","composed","this","binding","qway","QBuildEvent","builder","progress","current","len","Binding","content","callback","options","Set","events","onprogress","onfinish","sequence","length","onEvent","name","ev","keyUp","executed","keyDown","reset","ShortcutBinding","split","map","short","code","_this","add","pressed","Array","from","isMatch","every","isArray","preventDefault","clear","ComboBinding","delay","timeout","push","getTimeoutFunc","clearTimeout","setTimeout","TimedKey","rawKey","dur","parseFloat","fragile","QBuilder","on","cb","start","receive","evName","size","trigger","approve","bind","getString","abort","joinment","final","fs","Object","values","forEach","kcode","join","bindings","keys","activated","shortcutActivated","comboActivated","timedActivated","oldActivationState","timeout_calls","window","bindEvents","addEventListener","document","activeElement","tagName","bnd","declineFromUser","shortcut","reserved","bnds","unbind","findIndex","splice","replace","off","ctx","args","call","isKeyPressed","getFromUser","approveFromUser","replaceInCase","fn","attached","activate","disactivate","index","get","JSON","parse","stringify","defineTimeoutFunc","mySetTimeout","myClearTimeout"],"mappings":"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"}