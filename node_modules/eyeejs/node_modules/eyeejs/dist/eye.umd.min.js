!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).eye=e()}(this,(function(){"use strict";const t=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","keydown","keypress","keyup","focus","blur","focusin","focusout","submit","change","input","reset","select","touchstart","touchend","touchmove","touchcancel","pointerdown","pointerup","pointermove","pointerenter","pointerleave","pointercancel","dragstart","dragend","dragenter","dragover","dragleave","drop","resize","scroll","load","beforeunload","unload","play","pause","ended","volumechange","timeupdate","copy","cut","paste","animationstart","animationend","animationiteration","transitionstart","transitionend","DOMSubtreeModified","DOMNodeInserted","DOMNodeRemoved","error","hashchange","popstate"],e=["base","head","link","meta","style","title","body","address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rp","rt","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","area","audio","img","map","track","video","embed","iframe","object","picture","portal","source","canvas","noscript","script","del","ins","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr","button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea","details","dialog","summary","slot","template"],n=new WeakMap;function i(t){let e="";for(let n=0;n<t.length;n++){const i=t[n];i===i.toUpperCase()&&i!==i.toLowerCase()?e+="-"+i:e+=i}return e.toLowerCase()}function s(t,e){let n=[];for(const i in e){const o=e[i],[a,l]=i.split(":"),[u,...c]=a.split(".");let[d=null,f=null]=(l||"").split("-").map((t=>t.trim())),h=r(u.trim(),{class:c,parent:t,data:l?{value:d}:void 0});l&&d&&n.push({name:d,set:function(t,e){t.querySelector(`[data-value="${d}"]`).textContent=e??f}}),!o||"object"!=typeof o||o instanceof Array||(n=n.concat(s(h,o)))}return n}function r(o,a,l){l instanceof Array&&(children=l);let u,c="querySelector",d=void 0===this||this instanceof Window?document:this;if(o instanceof HTMLElement)u=o;else{if(0===o.indexOf("model:")){if(!a)throw new Error("Model tag must have attributes!");let t=r("div",{class:["eye-model",o=o.split(":")[1]],"data-model":o,"data-eye-model":o}),e=s(t,a);return n=>{let i=r(t.cloneNode(!0),n);return i.refresh=function(t={}){let n=!1!==t.default;return e.forEach((e=>{(!0===n||!n&&t.hasOwnProperty(e.name))&&e.set(i,t[e.name])})),this},i.refresh(n),r(i,n)}}a&&!0===a.all&&(c="querySelectorAll"),d==document&&-1!=e.indexOf(o)&&(c="createElement"),u=d[c](o)}if(u instanceof NodeList)return u.forEach((t=>r(t))),[...u];if(!u)return null;if(u.isEyeInstance)return u;u.isEyeInstance=!0,u.eye=r,u.set=function(t,...e){return e.push(t),e.forEach((t=>{if(-1!=t.indexOf("=")){const[e,n]=t.split("=");0===e.indexOf("data-")?this.dataset[i(e.replace("data-",""))]=n:this.setAttribute(e,n)}else if(-1!=t.indexOf(":")){const[e,n]=t.split(":");this.style[i(e)]=n}else this.setAttribute(t,"")})),this},u.class=function(t){let e=null;return"number"==typeof t?u.classList.item(t):(t.split(" ").forEach((t=>{"-"==t[0]?u.classList.remove(t.substring(1,t.length)):"%"==t[0]?u.classList.toggle(t.substring(1,t.length)):"?"==t[0]?e=u.classList.contains(t.substring(1,t.length)):-1!=t.indexOf("/")?([v1,v2]=t.split("/"),u.classList.replace(v1,v2)):u.classList.add(t.substring(1,t.length))})),null!==e?e:this)},u.show=function(t){return this.style.display=t||"",this},u.hide=function(){return this.style.display="none",this},u.child=function(t){return this.children[t]?r(this.children[t]):null},u.refer=function(t,e){if(void 0!==e){let i=n.get(this);return i||(i={},n.set(this,i)),e instanceof Array?i[t]instanceof Array?i[t].push(e[0]):i[t]=[e[0]]:i[t]=e,this}return n.get(this)?.[t]},u.unrefer=function(t,e){let i=n.get(this);return i&&(!e&&"string"==typeof t&&i[t]?i[t]=void 0:"function"==typeof e&&i[t]instanceof Array&&i[t].forEach(((t,n,i)=>{!0===e(t)&&(i.splice(n,1),n--)}))),this},t.forEach((t=>{var e;"function"==typeof u[t]&&(e=u[t]),u[t]=function(n){return n?"function"==typeof n&&u.addEventListener(t,n):e.call(u),this}})),u.on=function(t,e){t=t.split(" ");for(let n=0;n<t.length;n++)u.addEventListener(t[n],e);return this},u.appendTo=function(t){return t&&t.append(this),this},u.attr=function(t,e){if(t){if(!e)return this.getAttribute(t);!1===e&&this.removeAttribute(t),this.setAttribute(t,e)}return this},u.css=function(t,e){if(t){if(!e)return this.style[i(t)];u.style[i(t)]=e}return this},u.data=function(t,e){if(t){if(!e)return this.dataset[t];this.dataset[t]=e}return this.dataset},u.text=function(t){return t?(this.textContent=t,this):this.textContent},u.html=function(t){return t?(this.innerHTML=t,this):this.innerHTML};let f=null;if(a)for(const t in a){const e=a[t];if("class"==t)u.classList.add.apply(u.classList,e instanceof Array?e:e.split(" "));else if("text"==t)u.textContent=e;else if("html"==t)u.innerHTML=e;else if("data"==t)for(const t in e)u.dataset[t]=e[t];else"parent"==t?f=e:t in u?u[t]=e:"_"!=t[0]&&u.setAttribute(t,u)}if(l)for(const t in l)-1!=t.indexOf("-")?u.style[t]=l[t]:u.style[i(t)]=l[t];return f&&f.append(u),u}return window.eye=r,r}));
//# sourceMappingURL=eye.umd.min.js.map
